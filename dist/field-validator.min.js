var FieldValidator;FieldValidator=function(){function a(a,b){this.el=a,null==b&&(b={}),this.el.jquery&&(this.el=this.el[0]),this.setValidations(b)}return a.prototype._validations={include:{minLength:0,lowercase:!1,uppercase:!1,numbers:!1,symbols:!1}},a.prototype._matchers={lowercase:/[a-z]/,uppercase:/[A-Z]/,numbers:/[0-9]/,symbols:/[^a-zA-Z\d\s]/},a.prototype._messages={minLength:"at least {minLength} characters",maxLength:"more than {maxLength} characters",lowercase:"a lowercase letter",uppercase:"an uppercase letter",numbers:"a number",symbols:"a symbol"},a.prototype.messagePrefixes={include:"Do use",exclude:"Don't use"},a.prototype.validate=function(){var a;return a={errors:{include:this.validateType("include"),exclude:this.validateType("exclude")},messages:[],fullMessages:[],toList:this.toList},a.valid=!a.errors.include.concat(a.errors.exclude).length,a.messages=this.createMessages(a),a.fullMessages=this.createFullMessages(a),a},a.prototype.validateType=function(a){var b;return b=this.el.value,_.compact(_.map(this.validations[a],function(c){return function(d,e){return/length/i.test(e)?c.validateLength(b,a,e):c.validateMatcher(b,a,e)}}(this)))},a.prototype.validateLength=function(a,b,c){var d;return d=this.validations[b][c],a.length<=d&&"minLength"===c?c:a.length>=d&&"maxLength"===c?c:void 0},a.prototype.validateMatcher=function(a,b,c){return this._matchers[c].test(a)||"include"!==b?this._matchers[c].test(a)&&"exclude"===b?c:void 0:c},a.prototype.createFullMessages=function(a){return _.flatten(_.map(a.errors,function(a){return function(b,c){var d;return d=a.messagePrefixes[c],_.map(b,function(b){var e;return e=a.template(a._messages[b],a.validations[c]),[d,e].join(" ")})}}(this)))},a.prototype.createMessages=function(a){return _.flatten(_.map(a.errors,function(a){return function(b,c){return _.map(b,function(b){return a.template(a._messages[b],a.validations[c])})}}(this)))},a.prototype.setValidations=function(a){return this.validations||(this.validations=_.clone(this._validations)),_.extend(this.validations,a),this.setMatchers(),this.setMessages()},a.prototype.setMessages=function(){return _.each(this.validations,function(a){return function(b){return _.each(b,function(b,c){return"string"!=typeof b||/length/i.test(c)?void 0:a._messages[c]=""+c.replace("_"," ")+": "+b})}}(this))},a.prototype.setMatchers=function(){return _.each(this.validations,function(a){return function(b){return _.each(b,function(b,c){return"string"==typeof b?a._matchers[c]=b:void 0})}}(this)),_.each(this._matchers,function(a){return function(b,c){return"string"==typeof b?a._matchers[c]=new RegExp(b):void 0}}(this))},a.prototype.toList=function(a){var b;return b=document.createElement("ul"),b.className="error-messages",_.each(this[a],function(a){var c;return c=document.createElement("li"),c.innerHTML=a,b.appendChild(c)}),b},a.prototype.template=function(a,b){var c;for(c in b)a=a.replace(new RegExp("{"+c+"}","g"),b[c]);return a},a}();